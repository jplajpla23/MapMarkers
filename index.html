<!DOCTYPE html>
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
	jQuery KBmapMarkers: Image Marker Plugin Demo
</title>
<link href="https://www.jqueryscript.net/css/jquerysctipttop.css" rel="stylesheet" type="text/css">
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
		<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">

		<script type="text/javascript" src="js/KBmapmarkers.js"></script>
		<!--<script type="text/javascript" src="js/KBmapmarkersCords.js"></script> mostra as coordenadas do rato na imagem-->

		<link href="css/KBmapmarkers.css" rel="stylesheet">
<style>

			body{
			    overflow-x: hidden;
				background-color: #c89867;
				color: #392c20;
				margin: 0px;
				font-family: 'Roboto';
			}

			

			.KBmap__markerTitle{
				text-align: center;
				color: #000000;
			}
			.KBmap__mapContainer{
				height: 100vh;
				max-height: 100vh;
			}
			.KBmap__mapHolder{
				height: 100%;
			}
			.KBmap__mapHolder img{
			    width: auto;
	    		height: 100%;
			}
h1 { text-align: center; margin-top: 150px; }
		</style>
	</head>
	<body>



		<section class="KBmap" id="KBtestmap">

		</section>

	</body>

	<script>

		var json =
		{
			"mapMarker1": {
				"cordX": "54.25",
				"cordY": "18.59",
				"icon": "map-marker.svg",
				"modal": {
					"title": "Kaer Morhen",
					"content": "<p>Vesemir<br />email: vesemir@kaermorhen.pl<br />tel: 942 422 144</p>"
				}
			},
			"mapMarker2": {
				"cordX": "32.15",
				"cordY": "53.34",
				"icon": "map-marker.svg",
				"modal": {
					"title": "Wyzima",
					"content": "<p>Kr√≥l Foltest<br />email: foltest@temeria.pl<br />tel: 654 342 674</p>"
				}
			},
			"mapMarker3": {
				"cordX": "49.93",
				"cordY": "53.93",
				"icon": "map-marker.svg",
				"modal": {
					"title": "Vengerberg",
					"content": "<p>Yennefer<br />email: yen@lozaczarodziejek.pl<br />tel: 864 464 743</p>"
				}
			},
			"mapMarker4": {
				"cordX": "19.85",
				"cordY": "72.73",
				"icon": "map-marker.svg",
				"modal": {
					"title": "Cintra",
					"content": "<p>Cirilla<br />email: ciri@cintra.pl<br />tel: 764 345 325</p>"
				}
			},
			"mapMarker5": {
				"cordX": "24.22",
				"cordY": "41.74",
				"icon": "map-marker.svg",
				"modal": {
					"title": "Novigrad",
					"content": "<p>Chapelle<br />email: chapelle@novigrad.pl<br />tel: 523 753 853</p>"
				}
			}
		};

		(function($) {

			$(document).ready(function(){

				createKBmap('KBtestmap', 'mapa.jpg');

				KBtestmap.importJSON(json);

				KBtestmap.showAllMapMarkers();




				$(".KBmap__mapHolder")[0].getElementsByTagName('img')[0].onclick=testeClick;
			});

		})(jQuery);

		function testeClick(e){

		//	console.log(evt);return;
			//clientX: 336, clientY: 484
var rect = e.target.getBoundingClientRect();
  var x = e.clientX - rect.left; //x position within the element.
  var y = e.clientY - rect.top;  //y position within the element

			json[""+new Date().getTime()]={
				"cordX": ""+x,
				"cordY": ""+y,
				"icon": "map-marker.svg",
				"modal": {
					"title": "teste click",
					"content": ""
				}
			};
			console.log(""+new Date().getTime());
			console.log(json);
			//console.log(evt);

			KBtestmap.reloadJSON(json);
		}
	</script>
<!--<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-36251023-1']);
  _gaq.push(['_setDomainName', 'jqueryscript.net']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>-->
</html>
